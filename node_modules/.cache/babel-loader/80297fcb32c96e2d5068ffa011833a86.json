{"ast":null,"code":"import * as React from 'react';\nimport { createContext, useContext } from 'react';\n/**\r\n * Context to store the current record.\r\n *\r\n * Use the useRecordContext() hook to read the context. That's what the Edit and Show components do in react-admin.\r\n *\r\n * @example\r\n *\r\n * import { useEditController, EditContext } from 'ra-core';\r\n *\r\n * const Edit = props => {\r\n *     const { record } = useEditController(props);\r\n *     return (\r\n *         <RecordContextProvider value={record}>\r\n *             ...\r\n *         </RecordContextProvider>\r\n *     );\r\n * };\r\n */\n\nexport var RecordContext = createContext(undefined);\nexport var RecordContextProvider = function RecordContextProvider(_a) {\n  var children = _a.children,\n      value = _a.value;\n  return React.createElement(RecordContext.Provider, {\n    value: value\n  }, children);\n};\nRecordContext.displayName = 'RecordContext';\n/**\r\n * Hook to read the record from a RecordContext.\r\n *\r\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\r\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\r\n * (e.g. as a descendent of <Show> or <ShowBase>)\r\n *\r\n * @example // basic usage\r\n *\r\n * import { useRecordContext } from 'ra-core';\r\n *\r\n * const TitleField = () => {\r\n *     const record = useRecordContext();\r\n *     return <span>{record && record.title}</span>;\r\n * };\r\n *\r\n * @example // allow record override via props\r\n *\r\n * import { useRecordContext } from 'ra-core';\r\n *\r\n * const TitleField = (props) => {\r\n *     const record = useRecordContext(props);\r\n *     return <span>{record && record.title}</span>;\r\n * };\r\n * render(<TextField record={record} />);\r\n *\r\n * @returns {Record} A record object\r\n */\n\nexport var useRecordContext = function useRecordContext(props) {\n  // Can't find a way to specify the RecordType when CreateContext is declared\n  // @ts-ignore\n  var context = useContext(RecordContext);\n  return props && props.record || context;\n};","map":null,"metadata":{},"sourceType":"module"}