{"ast":null,"code":"/* jshint node:true */\n'use strict';\n/**\r\n * Module dependencies.\r\n */\n//const _ = require('underscore');\n\nvar Parser = require('./parser/csv');\n\nvar Stream = require('./core/stream');\n\nvar helper = require('./core/helper');\n/**\r\n * Main function that converts json to csv\r\n *\r\n * @param {Object|Array} json\r\n * @param {Object} [options]\r\n * @param {Function} callback(err, csv) - Callback function\r\n *      if error, returning error in call back.\r\n *      if csv is created successfully, returning csv output to callback.\r\n */\n\n\nmodule.exports = function (json, userOptions, callback) {\n  if (helper.isFunction(userOptions)) {\n    callback = userOptions;\n    userOptions = {};\n  }\n\n  userOptions = !callback ? json : userOptions;\n  var parser = new Parser(userOptions);\n  if (!callback || !helper.isFunction(callback)) return new Stream(parser);\n  parser.parse(json, callback);\n};","map":null,"metadata":{},"sourceType":"script"}