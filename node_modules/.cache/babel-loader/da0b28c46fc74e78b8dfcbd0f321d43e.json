{"ast":null,"code":"import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\r\n * Translate a string using the current locale and the translations from the i18nProvider\r\n *\r\n * @see Polyglot.t()\r\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\r\n *\r\n * @return {Function} A translation function, accepting two arguments\r\n *   - a string used as key in the translations\r\n *   - an interpolationOptions object\r\n *\r\n * @example\r\n *\r\n * import { useTranslate } from 'react-admin';\r\n *\r\n * const SettingsMenu = () => {\r\n *     const translate = useTranslate();\r\n *     return <MenuItem>{translate('settings')}</MenuItem>;\r\n * }\r\n */\n\nvar useTranslate = function useTranslate() {\n  var _a = useContext(TranslationContext),\n      i18nProvider = _a.i18nProvider,\n      locale = _a.locale;\n\n  var translate = useCallback(function (key, options) {\n    return i18nProvider.translate(key, options);\n  }, // update the hook each time the locale changes\n  [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  return i18nProvider ? translate : identity;\n};\n\nvar identity = function identity(key) {\n  return key;\n};\n\nexport default useTranslate;","map":null,"metadata":{},"sourceType":"module"}